<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Form Survei Kondisi Rumah</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; background: #f9f9f9; }
    h2 { background: #4CAF50; color: white; padding: 10px; border-radius: 5px; }
    fieldset { margin-bottom: 20px; border: 1px solid #ddd; padding: 15px; border-radius: 5px; }
    legend { font-weight: bold; }
    table { width: 100%; border-collapse: collapse; margin-top: 10px; }
    th, td { border: 1px solid #ccc; padding: 8px; font-size: 14px; }
    th { background: #eee; }
    .good { background: #d4edda; }
    .medium { background: #fff3cd; }
    .bad { background: #f8d7da; }
    input[type="text"], input[type="number"], input[type="file"], select {
      width: 100%; padding: 6px; margin: 4px 0; border: 1px solid #ccc; border-radius: 4px;
    }
    button { padding: 10px 15px; background: #4CAF50; color: white; border: none; border-radius: 5px; cursor: pointer; }
    button:hover { background: #45a049; }
  </style>
</head>
<body>

<h2>Form Survei Kondisi Rumah</h2>

<form id="surveyForm" enctype="multipart/form-data">

  <!-- ✅ Identitas -->
  <fieldset>
    <legend>Identitas Responden</legend>
    <label>Nama Lengkap:</label>
    <input type="text" name="nama" required>

    <label>NIK:</label>
    <input type="number" name="nik" required>

    <label>Alamat:</label>
    <input type="text" name="alamat" required>

    <label>No. HP:</label>
    <input type="text" name="no_hp">
  </fieldset>

  <!-- ✅ Checklist Kondisi Rumah -->
  <fieldset>
    <legend>Checklist Kondisi Rumah</legend>
    <table>
      <tr>
        <th>Komponen</th>
        <th class="good">A</th>
        <th class="medium">B</th>
        <th class="bad">C</th>
      </tr>

      <!-- 1. STRUKTUR -->
      <tr><td colspan="4"><b>1. STRUKTUR</b></td></tr>
      <tr>
        <td>Pondasi</td>
        <td class="good"><input type="radio" name="pondasi" value="A"> Ada, kondisi baik, kokoh</td>
        <td class="medium"><input type="radio" name="pondasi" value="B"> Ada, sebagian rapuh</td>
        <td class="bad"><input type="radio" name="pondasi" value="C"> Tidak ada, seluruhnya rapuh</td>
      </tr>
      <tr>
        <td>Sloof</td>
        <td class="good"><input type="radio" name="sloof" value="A"> Ada, kondisi baik, kokoh</td>
        <td class="medium"><input type="radio" name="sloof" value="B"> Ada, sebagian rapuh</td>
        <td class="bad"><input type="radio" name="sloof" value="C"> Tidak ada, seluruhnya rapuh</td>
      </tr>
      <tr>
        <td>Kolom</td>
        <td class="good"><input type="radio" name="kolom" value="A"> Ada, kondisi baik, kokoh</td>
        <td class="medium"><input type="radio" name="kolom" value="B"> Ada, sebagian rapuh</td>
        <td class="bad"><input type="radio" name="kolom" value="C"> Tidak ada, seluruhnya rapuh</td>
      </tr>
      <tr>
        <td>Ring Balok</td>
        <td class="good"><input type="radio" name="ring_balok" value="A"> Ada, kondisi baik, kokoh</td>
        <td class="medium"><input type="radio" name="ring_balok" value="B"> Ada, sebagian rapuh</td>
        <td class="bad"><input type="radio" name="ring_balok" value="C"> Tidak ada, seluruhnya rapuh</td>
      </tr>
      <tr>
        <td>Rangka Atap</td>
        <td class="good"><input type="radio" name="rangka_atap" value="A"> Ada, kondisi baik, kokoh</td>
        <td class="medium"><input type="radio" name="rangka_atap" value="B"> Ada, sebagian rapuh</td>
        <td class="bad"><input type="radio" name="rangka_atap" value="C"> Tidak ada, seluruhnya rapuh</td>
      </tr>

      <!-- 2. NON-STRUKTUR -->
      <tr><td colspan="4"><b>2. NON-STRUKTUR</b></td></tr>
      <tr>
        <td>Dinding</td>
        <td class="good"><input type="radio" name="dinding" value="A"> Tembok/bata, kokoh, tidak retak</td>
        <td class="medium"><input type="radio" name="dinding" value="B"> Tembok/bata sebagian retak</td>
        <td class="bad"><input type="radio" name="dinding" value="C"> Anyaman bambu/triplek, rapuh</td>
      </tr>
      <tr>
        <td>Lantai</td>
        <td class="good"><input type="radio" name="lantai" value="A"> Keramik/semen, baik</td>
        <td class="medium"><input type="radio" name="lantai" value="B"> Semen, sebagian rusak</td>
        <td class="bad"><input type="radio" name="lantai" value="C"> Tanah/papan lapuk</td>
      </tr>
      <tr>
        <td>Penutup Atap</td>
        <td class="good"><input type="radio" name="penutup_atap" value="A"> Genteng/seng/asbes, baik</td>
        <td class="medium"><input type="radio" name="penutup_atap" value="B"> Sebagian bocor</td>
        <td class="bad"><input type="radio" name="penutup_atap" value="C"> Daun/rumbia, lapuk</td>
      </tr>

      <!-- 3. KESEHATAN & KECUKUPAN LUAS -->
      <tr><td colspan="4"><b>3. KESEHATAN & KECUKUPAN LUAS</b></td></tr>
      <tr>
        <td>Akses Air Minum</td>
        <td class="good"><input type="radio" name="air_minum" value="A"> Ada</td>
        <td class="medium"><input type="radio" name="air_minum" value="B"> Ada, dipakai bersama</td>
        <td class="bad"><input type="radio" name="air_minum" value="C"> Tidak ada</td>
      </tr>
      <tr>
        <td>Akses Sanitasi</td>
        <td class="good"><input type="radio" name="sanitasi" value="A"> Ada</td>
        <td class="medium"><input type="radio" name="sanitasi" value="B"> Ada, dipakai bersama</td>
        <td class="bad"><input type="radio" name="sanitasi" value="C"> Tidak ada</td>
      </tr>
      <tr>
        <td>Pencahayaan</td>
        <td class="good"><input type="radio" name="pencahayaan" value="A"> Lancar, sesuai fungsi</td>
        <td class="medium"><input type="radio" name="pencahayaan" value="B"> Kurang lancar</td>
        <td class="bad"><input type="radio" name="pencahayaan" value="C"> Tidak ada, lembab</td>
      </tr>
      <tr>
        <td>Penghawaan</td>
        <td class="good"><input type="radio" name="penghawaan" value="A"> Lancar, sesuai fungsi</td>
        <td class="medium"><input type="radio" name="penghawaan" value="B"> Kurang, agak pengap</td>
        <td class="bad"><input type="radio" name="penghawaan" value="C"> Tidak ada, pengap</td>
      </tr>
      <tr>
        <td>Kecukupan Luas</td>
        <td class="good"><input type="radio" name="kecukupan_luas" value="A"> ≥ 9 m²/orang</td>
        <td class="medium"><input type="radio" name="kecukupan_luas" value="B"> 7–9 m²/orang</td>
        <td class="bad"><input type="radio" name="kecukupan_luas" value="C"> &lt; 7 m²/orang</td>
      </tr>

      <!-- 4. STATUS LAHAN -->
      <tr><td colspan="4"><b>4. STATUS LAHAN</b></td></tr>
      <tr>
        <td>Status Lahan</td>
        <td class="good"><input type="radio" name="status_lahan" value="A"> SHM/SHGB/akta, bukti sah</td>
        <td class="medium"><input type="radio" name="status_lahan" value="B"> Tanah adat/garapan, bukti sah</td>
        <td class="bad"><input type="radio" name="status_lahan" value="C"> Tanpa bukti sah/sengketa</td>
      </tr>
    </table>
  </fieldset>

  <!-- ✅ Upload Foto -->
  <fieldset>
    <legend>Upload Foto (Kamera/Galeri)</legend>
    <label>Foto KTP:</label>
    <input type="file" name="foto_ktp" accept="image/*" capture="environment"><br>
    <label>Foto KK:</label>
    <input type="file" name="foto_kk" accept="image/*" capture="environment"><br>
    <label>Selfie Depan Rumah:</label>
    <input type="file" name="selfie_rumah" accept="image/*" capture="user"><br>
    <label>Foto Tampak Depan:</label>
    <input type="file" name="foto_depan" accept="image/*" capture="environment"><br>
    <label>Foto Tampak Belakang:</label>
    <input type="file" name="foto_belakang" accept="image/*" capture="environment"><br>
  </fieldset>

  <button type="submit">Kirim</button>
</form>

<script>
document.getElementById("surveyForm").addEventListener("submit", function(e) {
  e.preventDefault();
  const formData = new FormData(this);

  fetch("PASTE_WEB_APP_URL_HERE", {
    method: "POST",
    body: formData
  })
  .then(response => response.text())
  .then(result => {
    alert("Data berhasil dikirim!");
    document.getElementById("surveyForm").reset();
  })
  .catch(error => {
    alert("Terjadi error: " + error.message);
  });
});
</script>

</body>
</html>
