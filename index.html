<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Form Verlap II-3 - BSPS</title>
<style>
  :root{
    --primary:#004953;
    --accent:#C3B091;
    --light:#f9f9f9;
    --dark:#333;
    --good:#d4edda;
    --medium:#fff3cd;
    --bad:#f8d7da;
  }
  *{box-sizing:border-box}
  body{font-family:"Segoe UI",Arial,sans-serif;margin:0;background:var(--light);color:var(--dark)}
  header{background:var(--primary);color:#fff;text-align:center;padding:18px 12px}
  header img{height:70px; display:block;margin:0 auto 8px}
  header h1{margin:0;font-size:20px}
  header p{margin:0;font-size:13px;color:var(--accent)}
  form{background:#fff;max-width:1100px;margin:24px auto;padding:22px;border-radius:12px;box-shadow:0 6px 16px rgba(0,0,0,0.08)}
  fieldset{margin-top:18px;padding:16px;border-radius:10px;border:2px solid var(--accent)}
  legend{font-weight:bold;color:var(--primary);padding:0 8px}
  label{font-weight:bold;color:var(--primary);display:block;margin-bottom:6px}
  input[type="text"], input[type="number"], select, textarea{width:100%;padding:6px 8px;border:1px solid #ccc;border-radius:6px;font-size:14px}
  textarea{min-height:80px;resize:vertical}
  table{width:100%;border-collapse:collapse;margin-top:12px}
  th, td{border:1px solid #aaa;padding:8px;font-size:13px;vertical-align:top;text-align:left}
  th{background:var(--accent);color:var(--primary);text-align:center}
  .good{background:var(--good)}
  .medium{background:var(--medium)}
  .bad{background:var(--bad)}
  .file-name{display:block;margin-top:4px;font-size:12px;color:#555}
  button{margin-top:18px;width:100%;padding:14px;background:var(--primary);color:#fff;font-weight:700;border:none;border-radius:8px;cursor:pointer;font-size:16px}
  button[disabled]{opacity:0.6;cursor:not-allowed}
  button:hover{background:var(--accent);color:var(--primary)}
  #loading{display:none;text-align:center;margin-top:10px;font-weight:700;color:var(--primary)}
  @media (max-width:768px){
    th{display:none}
    table, thead, tbody, tr, td{display:block}
    td{border:none;border-bottom:1px solid #eee;padding:10px 6px}
    td:first-child{font-weight:700}
  }
</style>
</head>
<body>

<header>
  <img src="1.png" alt="Logo KemenPKP">
  <h1>Form Verifikasi Penerima Bantuan (II-3)</h1>
  <p>Kementerian Perumahan dan Kawasan Permukiman</p>
</header>

<form id="verlapForm" enctype="multipart/form-data" autocomplete="off">
  <!-- Identitas -->
  <fieldset>
    <legend>Identitas</legend>
    <table>
      <tr><td>Nama KK</td><td><input type="text" name="nama_kk" required></td>
          <td>Penghasilan KK per bulan (Rp)</td><td><input type="number" name="penghasilan"></td></tr>
      <tr><td>NIK</td><td><input type="text" name="nik"></td>
          <td>Nilai UMP / UMK (Rp)</td><td><input type="number" name="ump"></td></tr>
      <tr><td>Nomor KK</td><td><input type="text" name="no_kk"></td>
          <td>Pernah BSPS</td><td><select name="pernah_bsps"><option>Ya</option><option>Tidak</option></select></td></tr>
      <tr><td>Jenis Kelamin</td><td><select name="jenis_kelamin"><option value="L">Laki-laki</option><option value="P">Perempuan</option></select></td>
          <td>Tahun BSPS</td><td><input type="number" name="tahun_bsps"></td></tr>
      <tr><td>Umur</td><td><input type="number" name="umur"></td>
          <td>Tahun menempati rumah</td><td><input type="number" name="tahun_huni"></td></tr>
      <tr><td>Alamat</td><td><input type="text" name="alamat"></td>
          <td>Aset rumah lainnya</td><td><select name="aset_rumah"><option>Ya</option><option>Tidak</option></select></td></tr>
      <tr><td>RT/RW</td><td><input type="text" name="rt_rw"></td>
          <td>Jumlah penghuni</td><td><input type="number" name="jml_penghuni"></td></tr>
      <tr><td>Desa/Kelurahan</td><td><input type="text" name="desa"></td>
          <td>Luas rumah (m²)</td><td><input type="number" name="luas_rumah" step="0.1"></td></tr>
      <tr><td>Kecamatan</td><td><input type="text" name="kecamatan"></td>
          <td>Bersedia program</td><td><select name="bersedia"><option>Ya</option><option>Tidak</option></select></td></tr>
      <tr><td>Kabupaten/Kota</td><td><input type="text" name="kabupaten"></td>
          <td>Koordinat (lat,long)</td><td><input type="text" name="koordinat"></td></tr>
      <tr><td>Provinsi</td><td><input type="text" name="provinsi"></td><td></td><td></td></tr>
    </table>
  </fieldset>

  <!-- Checklist -->
    <fieldset>
      <legend>Checklist Kondisi Rumah</legend>
      <table>
        <tr><th>Aspek/Komponen</th><th class="good">A</th><th class="medium">B</th><th class="bad">C</th></tr>

        <tr><td><b>1. STRUKTUR</b></td><td colspan="3"></td></tr>
        <tr><td>Pondasi</td>
            <td class="good"><input type="radio" name="pondasi" value="A"> ada, kondisi baik</td>
            <td class="medium"><input type="radio" name="pondasi" value="B"> sebagian rapuh</td>
            <td class="bad"><input type="radio" name="pondasi" value="C"> tidak ada/rapuh</td></tr>
        <tr><td>Sloof</td>
            <td class="good"><input type="radio" name="sloof" value="A"> ada, baik</td>
            <td class="medium"><input type="radio" name="sloof" value="B"> sebagian rapuh</td>
            <td class="bad"><input type="radio" name="sloof" value="C"> tidak ada/rapuh</td></tr>
        <tr><td>Kolom</td>
            <td class="good"><input type="radio" name="kolom" value="A"> ada, baik</td>
            <td class="medium"><input type="radio" name="kolom" value="B"> sebagian rapuh</td>
            <td class="bad"><input type="radio" name="kolom" value="C"> tidak ada/rapuh</td></tr>
        <tr><td>Ring Balok</td>
            <td class="good"><input type="radio" name="ring_balok" value="A"> ada, baik</td>
            <td class="medium"><input type="radio" name="ring_balok" value="B"> sebagian rapuh</td>
            <td class="bad"><input type="radio" name="ring_balok" value="C"> tidak ada/rapuh</td></tr>
        <tr><td>Rangka Atap</td>
            <td class="good"><input type="radio" name="rangka_atap" value="A"> baik</td>
            <td class="medium"><input type="radio" name="rangka_atap" value="B"> sebagian rapuh</td>
            <td class="bad"><input type="radio" name="rangka_atap" value="C"> rusak/rapuh</td></tr>

        <tr><td><b>2. NON-STRUKTUR</b></td><td colspan="3"></td></tr>
        <tr><td>Dinding</td>
            <td class="good"><input type="radio" name="dinding" value="A"> diplester/kokoh</td>
            <td class="medium"><input type="radio" name="dinding" value="B"> retak/kayu kurang</td>
            <td class="bad"><input type="radio" name="dinding" value="C"> anyaman/rapuh</td></tr>
        <tr><td>Lantai</td>
            <td class="good"><input type="radio" name="lantai" value="A"> keramik/baik</td>
            <td class="medium"><input type="radio" name="lantai" value="B"> sebagian rusak</td>
            <td class="bad"><input type="radio" name="lantai" value="C"> tanah/rapuh</td></tr>
        <tr><td>Penutup Atap</td>
            <td class="good"><input type="radio" name="penutup_atap" value="A"> baik</td>
            <td class="medium"><input type="radio" name="penutup_atap" value="B"> sebagian rusak</td>
            <td class="bad"><input type="radio" name="penutup_atap" value="C"> rusak berat</td></tr>

        <tr><td><b>3. KESEHATAN & KECUKUPAN</b></td><td colspan="3"></td></tr>
        <tr><td>Akses Air Minum</td>
            <td class="good"><input type="radio" name="akses_air_minum" value="A"> Ada</td>
            <td class="medium"></td>
            <td class="bad"><input type="radio" name="akses_air_minum" value="C"> Tidak ada</td></tr>
        <tr><td>Akses Sanitasi</td>
            <td class="good"><input type="radio" name="akses_sanitasi" value="A"> Ada</td>
           <td class="medium"></td>
            <td class="bad"><input type="radio" name="akses_sanitasi" value="C"> Tidak ada</td></tr>
        <tr><td>Pencahayaan</td>
            <td class="good"><input type="radio" name="pencahayaan" value="A"> memenuhi syarat</td>
            <td class="medium"><input type="radio" name="pencahayaan" value="B"> tidak memenuhi</td>
            <td class="bad"><input type="radio" name="pencahayaan" value="C"> tidak ada</td></tr>
        <tr><td>Penghawaan</td>
            <td class="good"><input type="radio" name="penghawaan" value="A"> memenuhi syarat</td>
            <td class="medium"><input type="radio" name="penghawaan" value="B"> tidak memenuhi</td>
            <td class="bad"><input type="radio" name="penghawaan" value="C"> tidak ada</td></tr>
        <tr><td>Kecukupan Luas Ruang</td>
            <td class="good"><input type="radio" name="kecukupan_luas" value="A"> ≥ 7.2 m²/jiwa</td>
            <td class="medium"><input type="radio" name="kecukupan_luas" value="B"> &lt; 7.2 m²/jiwa</td></tr>

        <tr><td><b>4. STATUS LAHAN</b></td><td colspan="3"></td></tr>
        <tr><td>Status Penguasaan Lahan</td>
            <td class="good"><input type="radio" name="status_lahan" value="A"> Milik sendiri</td>
            <td class="medium"><input type="radio" name="status_lahan" value="B"> Sewa/menumpang</td>
            <td class="bad"><input type="radio" name="status_lahan" value="C"> Tanpa bukti</td></tr>
      </table>
    </fieldset>

  <!-- Upload Dokumen & Foto -->
  <fieldset>
    <legend>Upload Dokumen & Foto</legend>
    <table>
      <tr><td>Foto KTP</td><td><input type="file" name="foto_ktp" accept="image/*" required><span class="file-name"></span></td></tr>
     <!-- <tr><td>Foto KK</td><td><input type="file" name="foto_kk" accept="image/*"><span class="file-name"></span></td></tr>
      <tr><td>TFL Selfi Depan Rumah</td><td><input type="file" name="tfl_selfi" accept="image/*"><span class="file-name"></span></td></tr>
      <tr><td>Foto Tampak Depan</td><td><input type="file" name="foto_depan" accept="image/*"><span class="file-name"></span></td></tr>
      <tr><td>Foto Tampak Menyamping</td><td><input type="file" name="foto_menyamping" accept="image/*"><span class="file-name"></span></td></tr>
      <tr><td>Foto Tampak Kiri</td><td><input type="file" name="foto_kiri" accept="image/*"><span class="file-name"></span></td></tr>
      <tr><td>Foto Tampak Kanan</td><td><input type="file" name="foto_kanan" accept="image/*"><span class="file-name"></span></td></tr>
      <tr><td>Foto Tampak Belakang</td><td><input type="file" name="foto_belakang" accept="image/*"><span class="file-name"></span></td></tr>
      <tr><td>Denah</td><td><input type="file" name="denah" accept="image/*"><span class="file-name"></span></td></tr>
      <tr><td>Fondasi</td><td><input type="file" name="fondasi_foto" accept="image/*"><span class="file-name"></span></td></tr>
      <tr><td>Sloof / Balok Bawah</td><td><input type="file" name="sloof_foto" accept="image/*"><span class="file-name"></span></td></tr>
      <tr><td>Kolom</td><td><input type="file" name="kolom_foto" accept="image/*"><span class="file-name"></span></td></tr>
      <tr><td>Ring Balok</td><td><input type="file" name="ring_balok_foto" accept="image/*"><span class="file-name"></span></td></tr>
      <tr><td>Rangka Atap</td><td><input type="file" name="rangka_atap_foto" accept="image/*"><span class="file-name"></span></td></tr>
      <tr><td>Dinding</td><td><input type="file" name="dinding_foto" accept="image/*"><span class="file-name"></span></td></tr>
      <tr><td>Lantai</td><td><input type="file" name="lantai_foto" accept="image/*"><span class="file-name"></span></td></tr>
      <tr><td>Penutup Atap</td><td><input type="file" name="penutup_atap_foto" accept="image/*"><span class="file-name"></span></td></tr>
      <tr><td>Akses Air Minum</td><td><input type="file" name="akses_air_foto" accept="image/*"><span class="file-name"></span></td></tr>
      <tr><td>Akses Sanitasi</td><td><input type="file" name="akses_sanitasi_foto" accept="image/*"><span class="file-name"></span></td></tr>
      <tr><td>Pencahayaan & Penghawaan</td><td><input type="file" name="cahaya_foto" accept="image/*"><span class="file-name"></span></td></tr>
      <tr><td>Kayu</td><td><input type="file" name="kayu" accept="image/*"><span class="file-name"></span></td></tr>
      <tr><td>Balok Kayu</td><td><input type="file" name="balok_kayu" accept="image/*"><span class="file-name"></span></td></tr>
      <tr><td>Kusen</td><td><input type="file" name="kusen" accept="image/*"><span class="file-name"></span></td></tr>
      <tr><td>Daun Pintu</td><td><input type="file" name="daun_pintu" accept="image/*"><span class="file-name"></span></td></tr>
      <tr><td>Jendela</td><td><input type="file" name="jendela" accept="image/*"><span class="file-name"></span></td></tr>
      <tr><td>Genteng</td><td><input type="file" name="genteng" accept="image/*"><span class="file-name"></span></td></tr>
      <tr><td>Batu Bata</td><td><input type="file" name="batu_bata" accept="image/*"><span class="file-name"></span></td></tr>
      <tr><td>Lainnya</td><td><input type="file" name="lainnya" accept="image/*"><span class="file-name"></span></td></tr>
      <tr><td>Material Kayu</td><td><input type="file" name="material_kayu" accept="image/*"><span class="file-name"></span></td></tr>
      <tr><td>Material Genteng</td><td><input type="file" name="material_genteng" accept="image/*"><span class="file-name"></span></td></tr>
      <tr><td>Material Batu Bata</td><td><input type="file" name="material_batubata" accept="image/*"><span class="file-name"></span></td></tr>
      <tr><td>Pasir</td><td><input type="file" name="pasir" accept="image/*"><span class="file-name"></span></td></tr>
      <tr><td>Kerikil</td><td><input type="file" name="kerikil" accept="image/*"><span class="file-name"></span></td></tr>
      <tr><td>Material Lainnya</td><td><input type="file" name="material_lainnya" accept="image/*"><span class="file-name"></span></td></tr>
    -->
    </table>
  </fieldset>

  <button type="submit">Kirim Data</button>
  <div id="loading">Mengirim data, mohon tunggu...</div>
</form>

<script>
const scriptURL ="https://script.google.com/macros/s/AKfycbydu4I7h_B4JZyGKpKQir5Z5nQ5YfDukMzZLkahFal0apMqUW21Yq1UBzEkMZTjSn1N_g/exec";
const form = document.getElementById("verlapForm");
const loading = document.getElementById("loading");
const submitBtn = form.querySelector("button[type=submit]");

// preview nama file
document.querySelectorAll("input[type=file]").forEach(input=>{
  input.addEventListener("change", e=>{
    const name = e.target.files[0]?.name || "Belum ada file dipilih";
    e.target.nextElementSibling.textContent = name;
  });
});

form.addEventListener("submit", e=>{
  e.preventDefault();
  loading.style.display = "block";
  submitBtn.disabled = true;
  const formData = new FormData(form);
  fetch(scriptURL, {method:"POST", body:formData})
  .then(r=>{alert("Data berhasil terkirim!"); form.reset(); document.querySelectorAll(".file-name").forEach(el=>el.textContent="");})
  .catch(err=>{console.error(err); alert("Terjadi kesalahan!");})
  .finally(()=>{loading.style.display="none"; submitBtn.disabled=false;});
});
</script>

</body>
</html>
