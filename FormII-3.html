<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Form Verlap II-3 - BSPS</title>
  <style>
    :root {
      --primary: #004953;   /* Midnight Green */
      --accent: #C3B091;    /* Khaki */
      --light: #f9f9f9;
      --dark: #333;
    }
    body { font-family: "Segoe UI", Arial, sans-serif; margin: 0; background: var(--light); color: var(--dark);}
    header { background: var(--primary); color: white; padding: 20px; text-align: center;}
    header img { height: 70px; margin-bottom: 8px;}
    header h1 { margin: 0; font-size: 22px;}
    header p { margin: 0; font-size: 14px; color: var(--accent);}
    form { background: #fff; padding: 25px; border-radius: 12px; max-width: 1100px; margin: 20px auto; box-shadow: 0 6px 16px rgba(0,0,0,0.1);}
    fieldset { margin-top: 20px; padding: 20px; border-radius: 10px; border: 2px solid var(--accent); background: #fafafa;}
    legend { font-weight: bold; padding: 0 10px; color: var(--primary);}
    label { font-weight: bold; color: var(--primary);}
    input, select { width: 100%; padding: 6px 8px; margin-top: 4px; border: 1px solid #ccc; border-radius: 6px; font-size: 14px;}
    table.form-table { width: 100%; border-collapse: collapse;}
    table.form-table td { padding: 6px 8px; vertical-align: top;}
    table.form-table td:first-child { width: 20%; font-weight: bold; color: var(--primary);}
    table.form-table td:nth-child(2) { width: 30%;}
    table.form-table td:nth-child(3) { width: 20%; font-weight: bold; color: var(--primary);}
    table.form-table td:nth-child(4) { width: 30%;}
    table.upload-table td { padding: 8px; }
    button { margin-top: 25px; width: 100%; padding: 14px; background: var(--primary); color: white; font-weight: bold; border: none; border-radius: 8px; font-size: 16px; cursor: pointer; transition: all 0.3s ease;}
    button:hover { background: var(--accent); color: var(--primary);}
    #loading { display:none; margin-top:15px; text-align:center; color:var(--primary); font-weight:bold; }
  </style>
</head>
<body>
  <header>
    <img src="1.png" alt="Logo KemenPKP">
    <h1>Form Verifikasi Penerima Bantuan (II-3)</h1>
    <p>Kementerian Perumahan dan Kawasan Permukiman</p>
  </header>

  <form id="verlapForm" enctype="multipart/form-data">

    <!-- Identitas -->
    <fieldset>
      <legend>Identitas Penerima</legend>
      <table class="form-table">
        <tr>
          <td>Nama KK</td><td><input type="text" name="nama" required></td>
          <td>Penghasilan KK per bulan (Rp)</td><td><input type="number" name="penghasilan"></td>
        </tr>
        <tr>
          <td>NIK</td><td><input type="text" name="nik"></td>
          <td>Nilai UMP / UMK</td><td><input type="number" name="ump"></td>
        </tr>
        <tr>
          <td>No KK</td><td><input type="text" name="kk"></td>
          <td>Pernah dapat BSPS</td>
          <td>
            <select name="pernah_bsps"><option value="Ya">Ya</option><option value="Tidak">Tidak</option></select>
          </td>
        </tr>
        <tr>
          <td>Jenis Kelamin</td>
          <td>
            <select name="jk"><option value="L">Laki-laki</option><option value="P">Perempuan</option></select>
          </td>
          <td>Tahun dapat BSPS</td><td><input type="number" name="tahun_bsps" value="0"></td>
        </tr>
        <tr>
          <td>Umur</td><td><input type="number" name="umur"></td>
          <td>Berapa tahun menempati rumah</td><td><input type="number" name="lama_huni"></td>
        </tr>
        <tr>
          <td>Alamat</td><td><input type="text" name="alamat"></td>
          <td>Memiliki aset rumah lainnya</td>
          <td><select name="aset_rumah"><option value="Ya">Ya</option><option value="Tidak">Tidak</option></select></td>
        </tr>
        <tr>
          <td>RT/RW</td><td><input type="text" name="rt_rw"></td>
          <td>Jumlah penghuni (jiwa)</td><td><input type="number" name="jml_penghuni"></td>
        </tr>
        <tr>
          <td>Desa/Kelurahan</td><td><input type="text" name="desa"></td>
          <td>Luas rumah (m²)</td><td><input type="number" name="luas_rumah"></td>
        </tr>
        <tr>
          <td>Kecamatan</td><td><input type="text" name="kecamatan"></td>
          <td>Bersedia mengikuti program</td>
          <td><select name="bersedia"><option value="Ya">Ya</option><option value="Tidak">Tidak</option></select></td>
        </tr>
        <tr>
          <td>Kabupaten/Kota</td><td><input type="text" name="kabupaten"></td>
          <td>Titik Koordinat</td><td><input type="text" name="koordinat"></td>
        </tr>
        <tr>
          <td>Provinsi</td><td><input type="text" name="provinsi"></td>
          <td></td><td></td>
        </tr>
      </table>
    </fieldset>

    <!-- Checklist Kondisi Rumah -->
    <!-- (gunakan versi tabel A/B/C yang sudah saya buat sebelumnya) -->

    <!-- Upload Foto -->
    <fieldset>
      <legend>Upload Dokumen & Foto</legend>
      <table class="upload-table">
        <tr><td>Foto KTP</td><td><input type="file" name="foto_ktp" accept="image/*" capture="environment"></td></tr>
        <tr><td>Foto KK</td><td><input type="file" name="foto_kk" accept="image/*" capture="environment"></td></tr>
        <tr><td>TFL Selfi Depan Rumah</td><td><input type="file" name="tfl_selfi" accept="image/*" capture="environment"></td></tr>
        <tr><td>Foto Tampak Depan</td><td><input type="file" name="foto_depan" accept="image/*" capture="environment"></td></tr>
        <tr><td>Foto Tampak Menyamping</td><td><input type="file" name="foto_menyamping" accept="image/*" capture="environment"></td></tr>
        <tr><td>Foto Tampak Kiri</td><td><input type="file" name="foto_kiri" accept="image/*" capture="environment"></td></tr>
        <tr><td>Foto Tampak Kanan</td><td><input type="file" name="foto_kanan" accept="image/*" capture="environment"></td></tr>
        <tr><td>Foto Tampak Belakang</td><td><input type="file" name="foto_belakang" accept="image/*" capture="environment"></td></tr>
        <tr><td>Denah</td><td><input type="file" name="denah" accept="image/*" capture="environment"></td></tr>
        <tr><td>Fondasi</td><td><input type="file" name="fondasi" accept="image/*" capture="environment"></td></tr>
        <tr><td>Sloof / Balok Bawah</td><td><input type="file" name="sloof" accept="image/*" capture="environment"></td></tr>
        <tr><td>Kolom</td><td><input type="file" name="kolom" accept="image/*" capture="environment"></td></tr>
        <tr><td>Ring Balok</td><td><input type="file" name="ring_balok" accept="image/*" capture="environment"></td></tr>
        <tr><td>Rangka Atap</td><td><input type="file" name="rangka_atap" accept="image/*" capture="environment"></td></tr>
        <tr><td>Dinding</td><td><input type="file" name="dinding" accept="image/*" capture="environment"></td></tr>
        <tr><td>Lantai</td><td><input type="file" name="lantai" accept="image/*" capture="environment"></td></tr>
        <tr><td>Penutup Atap</td><td><input type="file" name="penutup_atap" accept="image/*" capture="environment"></td></tr>
        <tr><td>Akses Air Minum</td><td><input type="file" name="akses_air" accept="image/*" capture="environment"></td></tr>
        <tr><td>Akses Sanitasi</td><td><input type="file" name="akses_sanitasi" accept="image/*" capture="environment"></td></tr>
        <tr><td>Pencahayaan & Penghawaan</td><td><input type="file" name="pencahayaan_penghawaan" accept="image/*" capture="environment"></td></tr>
        <tr><td>Kayu</td><td><input type="file" name="kayu" accept="image/*" capture="environment"></td></tr>
        <tr><td>Balok Kayu</td><td><input type="file" name="balok_kayu" accept="image/*" capture="environment"></td></tr>
        <tr><td>Kusen</td><td><input type="file" name="kusen" accept="image/*" capture="environment"></td></tr>
        <tr><td>Daun Pintu</td><td><input type="file" name="daun_pintu" accept="image/*" capture="environment"></td></tr>
        <tr><td>Jendela</td><td><input type="file" name="jendela" accept="image/*" capture="environment"></td></tr>
        <tr><td>Genteng</td><td><input type="file" name="genteng" accept="image/*" capture="environment"></td></tr>
        <tr><td>Batu Bata</td><td><input type="file" name="batu_bata" accept="image/*" capture="environment"></td></tr>
        <tr><td>Lainnya</td><td><input type="file" name="lainnya" accept="image/*" capture="environment"></td></tr>
        <tr><td>Kayu (Material)</td><td><input type="file" name="material_kayu" accept="image/*" capture="environment"></td></tr>
        <tr><td>Genteng (Material)</td><td><input type="file" name="material_genteng" accept="image/*" capture="environment"></td></tr>
        <tr><td>Batu Bata (Material)</td><td><input type="file" name="material_batubata" accept="image/*" capture="environment"></td></tr>
        <tr><td>Pasir</td><td><input type="file" name="pasir" accept="image/*" capture="environment"></td></tr>
        <tr><td>Kerikil</td><td><input type="file" name="kerikil" accept="image/*" capture="environment"></td></tr>
        <tr><td>Lainnya (Material)</td><td><input type="file" name="material_lain2" accept="image/*" capture="environment"></td></tr>
      </table>
    </fieldset>

    <button type="submit">Kirim Data</button>
    <div id="loading">⏳ Mengirim data, mohon tunggu...</div>
  </form>

  <script>
    const form = document.getElementById("verlapForm");
    const loading = document.getElementById("loading");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      const formData = new FormData(form);
      const scriptURL = "PASTE_YOUR_APPS_SCRIPT_URL"; // ganti dengan URL Web App dari Apps Script

      loading.style.display = "block";

      try {
        const res = await fetch(scriptURL, { method: "POST", body: formData });
        const txt = await res.text();
        loading.style.display = "none";

        if (txt.includes("SUCCESS")) {
          alert("✅ Data berhasil dikirim!");
          form.reset();
        } else {
          alert("❌ Gagal: " + txt);
        }
      } catch (err) {
        loading.style.display = "none";
        alert("⚠️ Error: " + err);
      }
    });
  </script>
</body>
</html>
